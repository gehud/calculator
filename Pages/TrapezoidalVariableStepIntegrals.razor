@page "/integrals/trapezoidal/variable-step"

<VariableStepAlgorithmLayout 
	BackPage="integrals/trapezoidal" 
	NumericMethod="Calculate"/>

@code {
	private double Calculate(Func<double, double> function, double a, double b, double h) {
		double x = a + h;
		double sum = 0.0;
		double fa = function(a);
		double fb = function(b);
		do
		{
			sum += function(x);
			x += h;
		} while (x <= b);

		return h * ((fa + fb) / 2 + sum);
	}
}