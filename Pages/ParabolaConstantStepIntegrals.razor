@page "/integrals/parabola/constant-step"

<ConstantStepAlgorithmLayout
	BackPage="integrals/parabola"
	NumericMethod="Calculate" />

@code {
	private double Calculate(Func<double, double> function, double a, double b, long n) {
		double h = (b - a) / n;
		double x = a + h;
		double sum1 = function(a) + function(b);
		double sum2 = 0.0;
		do {
			double c = function(x);
			sum2 += c;
			x = x + 2 * h;
		} while (x <= b - h);
		double sum3 = 0.0;
		x = a + 2 * h;
		do {
			double c = function(x);
			sum3 += c;
			x = x + 2 * h;
		} while (x <= b - 2 * h);

		return (sum1 + 4 * sum2 + 2 * sum3) * h / 3;
	}
}